{
  "values_changed": {
    "root[7]['tag']": {
      "new_value": "p",
      "old_value": "script"
    },
    "root[7]['text']": {
      "new_value": "<a class=\"btn btn-primary btn-xs\" href=\"https://aplappointments.ca/\" role=\"button\" style=\"border: 0px currentColor; background-color: rgb(92, 102, 112) !important;\" target=\"_blank\" title=\"Book Now\" type=\"button\">Book Now<em class=\"fa fa-chevron-right fa-xs\" p=\"\" style=\"color:rgb(255, 255, 255); font-size:0.75em; margin-left:5px; margin-right:2px\"> </em></a>",
      "old_value": "SystemJS = System;\r\n\r\n\t\t\tconst existingResolveHook = SystemJS.constructor.prototype.resolve;\r\n\t\t\tSystemJS.constructor.prototype.resolve = function (id, parentUrl) {\r\n\t\t\t\tlet resolveUrl = existingResolveHook.apply(this, arguments);\r\n\r\n\t\t\t\tif(/(^http:)|(^https:)|(^\\/\\/)/.test(id)){\r\n\t\t\t\t\t// we don't handle absolute request\r\n\t\t\t\t\treturn resolveUrl;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(resolveUrl.indexOf('https://BASE_URL/') > -1){\r\n\t\t\t\t\tresolveUrl = resolveUrl.replace('https://BASE_URL/', window.location.origin + window.jimuConfig.baseUrl);\r\n\t\t\t\t}else if(resolveUrl.indexOf('https://API_URL/') > -1){\r\n\t\t\t\t\tresolveUrl = resolveUrl.replace('https://API_URL/', window.jimuConfig.arcgisJsApiUrl);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(/\\/$/.test(resolveUrl) || /\\.css$/.test(resolveUrl) || /\\.json$/.test(resolveUrl) || /\\.wasm$/.test(resolveUrl)){\r\n\t\t\t\t\treturn resolveUrl;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(!/\\.js$/.test(resolveUrl)){\r\n\t\t\t\t\tresolveUrl = resolveUrl + '.js';\r\n\t\t\t\t}\r\n\t\t\t\treturn resolveUrl;\r\n\t\t\t};\r\n\r\n\t\t\tconst existingGetRegisterHook = SystemJS.constructor.prototype.getRegister;\r\n\t\t\tSystemJS.constructor.prototype.getRegister = function () {\r\n\t\t\t\tlet register = existingGetRegisterHook.apply(this, arguments);\r\n\t\t\t\t// update the setter function to support default export\r\n\t\t\t\treturn [register[0], function (_export) {\r\n\t\t\t\t\tconst result = register[1](_export);\r\n\t\t\t\t\tif(result.setters){\r\n\t\t\t\t\t\tresult.setters = result.setters.map(function(s){\r\n\t\t\t\t\t\t\treturn function(ns) {\r\n\t\t\t\t\t\t\t\ts(ns.__useDefault ? ns.default : ns)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}];\r\n\t\t\t};\r\n\r\n\t\t\tconst existingInstantiateHook = SystemJS.constructor.prototype.instantiate;\r\n\t\t\tSystemJS.constructor.prototype.instantiate = function (url, parentUrl) {\r\n\t\t\t\t// for translated files, still use define function, use a simple define function to load.\r\n\t\t\t\tif(/translations\\/(.+)\\.js$/.test(url)){\r\n\t\t\t\t\treturn window.fetch(url).then(function(res){return res.text();}).then(function(source){\r\n\t\t\t\t\t\tlet oldDefine = window.define;\r\n\r\n\t\t\t\t\t\tvar i18nMessage = {};\r\n\t\t\t\t\t\twindow.define = function(o){\r\n\t\t\t\t\t\t\ti18nMessage = o;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tscriptExec(source, url);\r\n\r\n\t\t\t\t\t\tconst reg = [[], function (_export) {\r\n\t\t\t\t\t\t\t_export({ default: i18nMessage, __useDefault: true });\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tsetters: [],\r\n\t\t\t\t\t\t\t\texecute: function () {\r\n\t\t\t\t\t\t\t\t\t_export('default', i18nMessage);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}]\r\n\r\n\t\t\t\t\t\twindow.define = oldDefine;\r\n\t\t\t\t\t\treturn reg;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// for css, we load as an link tag\r\n\t\t\t\tif(/.css$/.test(url)){\r\n\t\t\t\t\treturn loadCSS(url).then(function(){\r\n\t\t\t\t\t\tconst m = function(){};\r\n\t\t\t\t\t\tconst reg = [[], function (_export) {\r\n\t\t\t\t\t\t\t_export({ default: m, __useDefault: true });\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tsetters: [],\r\n\t\t\t\t\t\t\t\texecute: function () {\r\n\t\t\t\t\t\t\t\t\t_export('default', m);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t\treturn reg;\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// for api module, we use dojo loader\r\n\t\t\t\tif(url.indexOf(window.jimuConfig.arcgisJsApiUrl) === 0 && !/dojo\\.js$/.test(url)){\r\n\t\t\t\t\tlet amdPath = url.replace(window.jimuConfig.arcgisJsApiUrl, '');\r\n\t\t\t\t\tamdPath = amdPath.replace(/\\.js$/, '');\r\n\r\n\t\t\t\t\treturn new Promise(function(resolve, reject){\r\n\t\t\t\t\t\twindow.require([amdPath], function(m){\r\n\t\t\t\t\t\t\tconst reg = [[], function (_export) {\r\n\t\t\t\t\t\t\t\t_export({ default: m, __useDefault: true });\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\tsetters: [],\r\n\t\t\t\t\t\t\t\t\texecute: function () {\r\n\t\t\t\t\t\t\t\t\t\t_export('default', m);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}]\r\n\r\n\t\t\t\t\t\t\tresolve(reg);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet existingResult = existingInstantiateHook.apply(this, arguments);\r\n\t\t\t\treturn existingResult;\r\n\t\t\t};\r\n\r\n\t\t\tfunction loadCSS(url) {\r\n\t\t\t\tvar waitSeconds = 100;\r\n\r\n\t\t\t\tvar head = document.getElementsByTagName('head')[0];\r\n\r\n\t\t\t\tvar isWebkit = !!window.navigator.userAgent.match(/AppleWebKit\\/([^ ;]*)/);\r\n\t\t\t\tvar webkitLoadCheck = function(link, callback) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tfor (var i = 0; i < document.styleSheets.length; i++) {\r\n\t\t\t\t\t\t\tvar sheet = document.styleSheets[i];\r\n\t\t\t\t\t\t\tif (sheet.href == link.href)\r\n\t\t\t\t\t\t\t\treturn callback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\twebkitLoadCheck(link, callback);\r\n\t\t\t\t\t}, 10);\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar noop = function() {};\r\n\r\n\t\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\t\tvar timeout = setTimeout(function() {\r\n\t\t\t\t\t\treject('Unable to load CSS');\r\n\t\t\t\t\t}, waitSeconds * 1000);\r\n\r\n\t\t\t\t\tvar _callback = function(error) {\r\n\t\t\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\t\t\tlink.onload = link.onerror = noop;\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tif (error)\r\n\t\t\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tresolve('');\r\n\t\t\t\t\t\t}, 7);\r\n\t\t\t\t\t};\r\n\t\t\t\t\tvar link = document.createElement('link');\r\n\t\t\t\t\tlink.type = 'text/css';\r\n\t\t\t\t\tlink.rel = 'stylesheet';\r\n\t\t\t\t\tlink.href = url;\r\n\t\t\t\t\tlink.setAttribute('data-systemjs-css', '');\r\n\t\t\t\t\tif (!isWebkit) {\r\n\t\t\t\t\t\tlink.onload = function() {\r\n\t\t\t\t\t\t\t_callback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twebkitLoadCheck(link, _callback);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlink.onerror = function(event) {\r\n\t\t\t\t\t\t_callback(event.error || new Error('Error loading CSS file.'));\r\n\t\t\t\t\t};\r\n\t\t\t\t\thead.appendChild(link);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t// script execution via injecting a script tag into the page\r\n\t\t\t// this allows CSP nonce to be set for CSP environments\r\n\t\t\tfunction scriptExec(source, address, nonce) {\r\n\t\t\t\tvar\thead = document.head || document.body || document.documentElement;\r\n\r\n\t\t\t\tvar script = document.createElement('script');\r\n\t\t\t\tscript.text = source;\r\n\t\t\t\tvar orgOnerror = window.onerror;\r\n\t\t\t\twindow.onerror = function(err) {\r\n\t\t\t\t\tconsole.error(address, err);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (nonce){\r\n\t\t\t\t\tscript.setAttribute('nonce', nonce);\r\n\t\t\t\t}\r\n\r\n\t\t\t\thead.appendChild(script);\r\n\t\t\t\thead.removeChild(script);\r\n\t\t\t\twindow.onerror = orgOnerror;\r\n\t\t\t}\r\n\r\n\t\t\twindow.jimuUA = bowser.parse(window.navigator.userAgent);\r\n\t\t\tif(window.jimuUA.browser.name === 'Internet Explorer'){\r\n\t\t\t\twindow.location.href = mountPath + 'jimu-core/unsupported-browser/index.html';\r\n\t\t\t}else{\r\n\t\t\t\tSystemJS.import(jimuConfig.appFolderName + '/index.js');\r\n\t\t\t}",
      "diff": "--- \n+++ \n@@ -1,196 +1 @@\n-SystemJS = System;\n-\n-\t\t\tconst existingResolveHook = SystemJS.constructor.prototype.resolve;\n-\t\t\tSystemJS.constructor.prototype.resolve = function (id, parentUrl) {\n-\t\t\t\tlet resolveUrl = existingResolveHook.apply(this, arguments);\n-\n-\t\t\t\tif(/(^http:)|(^https:)|(^\\/\\/)/.test(id)){\n-\t\t\t\t\t// we don't handle absolute request\n-\t\t\t\t\treturn resolveUrl;\n-\t\t\t\t}\n-\n-\t\t\t\tif(resolveUrl.indexOf('https://BASE_URL/') > -1){\n-\t\t\t\t\tresolveUrl = resolveUrl.replace('https://BASE_URL/', window.location.origin + window.jimuConfig.baseUrl);\n-\t\t\t\t}else if(resolveUrl.indexOf('https://API_URL/') > -1){\n-\t\t\t\t\tresolveUrl = resolveUrl.replace('https://API_URL/', window.jimuConfig.arcgisJsApiUrl);\n-\t\t\t\t}\n-\n-\t\t\t\tif(/\\/$/.test(resolveUrl) || /\\.css$/.test(resolveUrl) || /\\.json$/.test(resolveUrl) || /\\.wasm$/.test(resolveUrl)){\n-\t\t\t\t\treturn resolveUrl;\n-\t\t\t\t}\n-\n-\t\t\t\tif(!/\\.js$/.test(resolveUrl)){\n-\t\t\t\t\tresolveUrl = resolveUrl + '.js';\n-\t\t\t\t}\n-\t\t\t\treturn resolveUrl;\n-\t\t\t};\n-\n-\t\t\tconst existingGetRegisterHook = SystemJS.constructor.prototype.getRegister;\n-\t\t\tSystemJS.constructor.prototype.getRegister = function () {\n-\t\t\t\tlet register = existingGetRegisterHook.apply(this, arguments);\n-\t\t\t\t// update the setter function to support default export\n-\t\t\t\treturn [register[0], function (_export) {\n-\t\t\t\t\tconst result = register[1](_export);\n-\t\t\t\t\tif(result.setters){\n-\t\t\t\t\t\tresult.setters = result.setters.map(function(s){\n-\t\t\t\t\t\t\treturn function(ns) {\n-\t\t\t\t\t\t\t\ts(ns.__useDefault ? ns.default : ns)\n-\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t})\n-\t\t\t\t\t}\n-\t\t\t\t\treturn result;\n-\t\t\t\t}];\n-\t\t\t};\n-\n-\t\t\tconst existingInstantiateHook = SystemJS.constructor.prototype.instantiate;\n-\t\t\tSystemJS.constructor.prototype.instantiate = function (url, parentUrl) {\n-\t\t\t\t// for translated files, still use define function, use a simple define function to load.\n-\t\t\t\tif(/translations\\/(.+)\\.js$/.test(url)){\n-\t\t\t\t\treturn window.fetch(url).then(function(res){return res.text();}).then(function(source){\n-\t\t\t\t\t\tlet oldDefine = window.define;\n-\n-\t\t\t\t\t\tvar i18nMessage = {};\n-\t\t\t\t\t\twindow.define = function(o){\n-\t\t\t\t\t\t\ti18nMessage = o;\n-\t\t\t\t\t\t}\n-\n-\t\t\t\t\t\tscriptExec(source, url);\n-\n-\t\t\t\t\t\tconst reg = [[], function (_export) {\n-\t\t\t\t\t\t\t_export({ default: i18nMessage, __useDefault: true });\n-\t\t\t\t\t\t\treturn {\n-\t\t\t\t\t\t\t\tsetters: [],\n-\t\t\t\t\t\t\t\texecute: function () {\n-\t\t\t\t\t\t\t\t\t_export('default', i18nMessage);\n-\t\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t\t};\n-\t\t\t\t\t\t}]\n-\n-\t\t\t\t\t\twindow.define = oldDefine;\n-\t\t\t\t\t\treturn reg;\n-\t\t\t\t\t});\n-\t\t\t\t}\n-\n-\t\t\t\t// for css, we load as an link tag\n-\t\t\t\tif(/.css$/.test(url)){\n-\t\t\t\t\treturn loadCSS(url).then(function(){\n-\t\t\t\t\t\tconst m = function(){};\n-\t\t\t\t\t\tconst reg = [[], function (_export) {\n-\t\t\t\t\t\t\t_export({ default: m, __useDefault: true });\n-\t\t\t\t\t\t\treturn {\n-\t\t\t\t\t\t\t\tsetters: [],\n-\t\t\t\t\t\t\t\texecute: function () {\n-\t\t\t\t\t\t\t\t\t_export('default', m);\n-\t\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t\t};\n-\t\t\t\t\t\t}]\n-\t\t\t\t\t\treturn reg;\n-\t\t\t\t\t})\n-\t\t\t\t}\n-\n-\t\t\t\t// for api module, we use dojo loader\n-\t\t\t\tif(url.indexOf(window.jimuConfig.arcgisJsApiUrl) === 0 && !/dojo\\.js$/.test(url)){\n-\t\t\t\t\tlet amdPath = url.replace(window.jimuConfig.arcgisJsApiUrl, '');\n-\t\t\t\t\tamdPath = amdPath.replace(/\\.js$/, '');\n-\n-\t\t\t\t\treturn new Promise(function(resolve, reject){\n-\t\t\t\t\t\twindow.require([amdPath], function(m){\n-\t\t\t\t\t\t\tconst reg = [[], function (_export) {\n-\t\t\t\t\t\t\t\t_export({ default: m, __useDefault: true });\n-\t\t\t\t\t\t\t\treturn {\n-\t\t\t\t\t\t\t\t\tsetters: [],\n-\t\t\t\t\t\t\t\t\texecute: function () {\n-\t\t\t\t\t\t\t\t\t\t_export('default', m);\n-\t\t\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t\t\t};\n-\t\t\t\t\t\t\t}]\n-\n-\t\t\t\t\t\t\tresolve(reg);\n-\t\t\t\t\t\t})\n-\t\t\t\t\t});\n-\t\t\t\t}\n-\n-\t\t\t\tlet existingResult = existingInstantiateHook.apply(this, arguments);\n-\t\t\t\treturn existingResult;\n-\t\t\t};\n-\n-\t\t\tfunction loadCSS(url) {\n-\t\t\t\tvar waitSeconds = 100;\n-\n-\t\t\t\tvar head = document.getElementsByTagName('head')[0];\n-\n-\t\t\t\tvar isWebkit = !!window.navigator.userAgent.match(/AppleWebKit\\/([^ ;]*)/);\n-\t\t\t\tvar webkitLoadCheck = function(link, callback) {\n-\t\t\t\t\tsetTimeout(function() {\n-\t\t\t\t\t\tfor (var i = 0; i < document.styleSheets.length; i++) {\n-\t\t\t\t\t\t\tvar sheet = document.styleSheets[i];\n-\t\t\t\t\t\t\tif (sheet.href == link.href)\n-\t\t\t\t\t\t\t\treturn callback();\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\twebkitLoadCheck(link, callback);\n-\t\t\t\t\t}, 10);\n-\t\t\t\t};\n-\n-\t\t\t\tvar noop = function() {};\n-\n-\t\t\t\treturn new Promise(function(resolve, reject) {\n-\t\t\t\t\tvar timeout = setTimeout(function() {\n-\t\t\t\t\t\treject('Unable to load CSS');\n-\t\t\t\t\t}, waitSeconds * 1000);\n-\n-\t\t\t\t\tvar _callback = function(error) {\n-\t\t\t\t\t\tclearTimeout(timeout);\n-\t\t\t\t\t\tlink.onload = link.onerror = noop;\n-\t\t\t\t\t\tsetTimeout(function() {\n-\t\t\t\t\t\t\tif (error)\n-\t\t\t\t\t\t\t\treject(error);\n-\t\t\t\t\t\t\telse\n-\t\t\t\t\t\t\t\tresolve('');\n-\t\t\t\t\t\t}, 7);\n-\t\t\t\t\t};\n-\t\t\t\t\tvar link = document.createElement('link');\n-\t\t\t\t\tlink.type = 'text/css';\n-\t\t\t\t\tlink.rel = 'stylesheet';\n-\t\t\t\t\tlink.href = url;\n-\t\t\t\t\tlink.setAttribute('data-systemjs-css', '');\n-\t\t\t\t\tif (!isWebkit) {\n-\t\t\t\t\t\tlink.onload = function() {\n-\t\t\t\t\t\t\t_callback();\n-\t\t\t\t\t\t}\n-\t\t\t\t\t} else {\n-\t\t\t\t\t\twebkitLoadCheck(link, _callback);\n-\t\t\t\t\t}\n-\t\t\t\t\tlink.onerror = function(event) {\n-\t\t\t\t\t\t_callback(event.error || new Error('Error loading CSS file.'));\n-\t\t\t\t\t};\n-\t\t\t\t\thead.appendChild(link);\n-\t\t\t\t})\n-\t\t\t}\n-\n-\t\t\t// script execution via injecting a script tag into the page\n-\t\t\t// this allows CSP nonce to be set for CSP environments\n-\t\t\tfunction scriptExec(source, address, nonce) {\n-\t\t\t\tvar\thead = document.head || document.body || document.documentElement;\n-\n-\t\t\t\tvar script = document.createElement('script');\n-\t\t\t\tscript.text = source;\n-\t\t\t\tvar orgOnerror = window.onerror;\n-\t\t\t\twindow.onerror = function(err) {\n-\t\t\t\t\tconsole.error(address, err);\n-\t\t\t\t}\n-\n-\t\t\t\tif (nonce){\n-\t\t\t\t\tscript.setAttribute('nonce', nonce);\n-\t\t\t\t}\n-\n-\t\t\t\thead.appendChild(script);\n-\t\t\t\thead.removeChild(script);\n-\t\t\t\twindow.onerror = orgOnerror;\n-\t\t\t}\n-\n-\t\t\twindow.jimuUA = bowser.parse(window.navigator.userAgent);\n-\t\t\tif(window.jimuUA.browser.name === 'Internet Explorer'){\n-\t\t\t\twindow.location.href = mountPath + 'jimu-core/unsupported-browser/index.html';\n-\t\t\t}else{\n-\t\t\t\tSystemJS.import(jimuConfig.appFolderName + '/index.js');\n-\t\t\t}\n+<a class=\"btn btn-primary btn-xs\" href=\"https://aplappointments.ca/\" role=\"button\" style=\"border: 0px currentColor; background-color: rgb(92, 102, 112) !important;\" target=\"_blank\" title=\"Book Now\" type=\"button\">Book Now<em class=\"fa fa-chevron-right fa-xs\" p=\"\" style=\"color:rgb(255, 255, 255); font-size:0.75em; margin-left:5px; margin-right:2px\"> </em></a>"
    }
  },
  "iterable_item_removed": {
    "root[1]": {
      "tag": "[document]",
      "text": "HTML",
      "attrs": {}
    },
    "root[2]": {
      "tag": "title",
      "text": "Experience",
      "attrs": {}
    },
    "root[3]": {
      "tag": "style",
      "text": "html {\r\n\t\t\t\tscrollbar-color: var(--light-600) var(--light-200);\r\n\t\t\t}\r\n\t\t\thtml, body{\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tmargin: 0;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t}\r\n\t\t\t#loading{\r\n\t\t\t\twidth: 100vw;\r\n\t\t\t\theight: 100vh;\r\n\t\t\t}\r\n\t\t\t#app{\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}",
      "attrs": {}
    },
    "root[4]": {
      "tag": "script",
      "text": "/*\r\n\t\t\tPlease make sure the script is in <head>, this can help dojo to find the correct \"insertPointSibling\"\r\n\t\t\tSee dojo/dojo.js line 1724-1728\r\n\t\t\t*/\r\n\t\t\tvar mountPath = '/';\r\n\t\t\tvar hostEnv = 'prod';\r\n\t\t\tvar packagesInAppFolder = false;\r\n\r\n\t\t\tvar appFolderName = 'experience';\r\n\t\t\tvar useStructuralUrl = true;\r\n\t\t\tvar arcgisJsApiUrl = 'https://js.arcgis.com/4.18/';\r\n\t\t\tvar isDevEdition = false;\r\n\t\t\tvar buildNumber = '834';\r\n\t\t\tvar isBuilder = false;\r\n\t\t\tvar isSite = false;\r\n\r\n\t\t\tvar isInPortal = false;\r\n\t\t\tif(isInPortal){\r\n\t\t\t\tmountPath = getDeployContextFromLocation() + 'apps/experiencebuilder/';\r\n\t\t\t\tarcgisJsApiUrl = getDeployContextFromLocation() + 'jsapi/jsapi4/';\r\n\t\t\t}\r\n\r\n\t\t\t/* for download */\r\n\t\t\tfunction getPath() {\r\n\t\t\t\tvar fullPath, path;\r\n\r\n\t\t\t\tfullPath = window.location.pathname;\r\n\t\t\t\tif (fullPath === '/' || fullPath.substr(fullPath.length - 1) === '/') {\r\n\t\t\t\t\tpath = fullPath;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar sections = fullPath.split('/');\r\n\t\t\t\t\tvar lastSection = sections.pop();\r\n\t\t\t\t\tif (/\\.html$/.test(lastSection) || /\\.aspx$/.test(lastSection) ||\r\n\t\t\t\t\t\t/\\.jsp$/.test(lastSection) || /\\.php$/.test(lastSection)) {\r\n\t\t\t\t\t\t//index.html may be renamed to index.jsp, etc.\r\n\t\t\t\t\t\tpath = sections.join('/') + '/';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn path;\r\n\t\t\t}\r\n\r\n\t\t\tfunction getDeployContextFromLocation (){\r\n\t\t\t\tvar keyIndex = window.location.href.indexOf(\"/home/\");\r\n\t\t\t\tif(keyIndex < 0){\r\n\t\t\t\t\tkeyIndex = window.location.href.indexOf(\"/apps/\");\r\n\t\t\t\t}\r\n\t\t\t\tvar context = window.location.href.substring(window.location.href.indexOf(\r\n\t\t\t\t\twindow.location.host) + window.location.host.length + 1, keyIndex);\r\n\t\t\t\tif (context !== \"/\") {\r\n\t\t\t\t\tcontext = \"/\" + context + \"/\";\r\n\t\t\t\t}\r\n\t\t\t\treturn context;\r\n\t\t\t}\r\n\r\n\t\t\tfunction isInBuilder(){\r\n\t\t\t\ttry{\r\n\t\t\t\t\twindow.parent.jimuConfig;\r\n\t\t\t\t}catch(err){\r\n\t\t\t\t\t//cross domain error\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn window !== window.parent && window.parent.jimuConfig && window.parent.jimuConfig.isBuilder? true: false;\r\n\t\t\t}\r\n\r\n\t\t\tfunction initJimuConfig(){\r\n\t\t\t\tif(!mountPath){\r\n\t\t\t\t\tmountPath = '/';\r\n\t\t\t\t}\r\n\t\t\t\tif(!/\\/$/.test(mountPath)){\r\n\t\t\t\t\tmountPath = mountPath + '/';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet rootPath = mountPath;\r\n\t\t\t\tif(appFolderName !== 'site'){\r\n\t\t\t\t\trootPath = mountPath + appFolderName + '/';\r\n\t\t\t\t}\r\n\r\n\t\t\t\twindow.jimuConfig = {\r\n\t\t\t\t\tisBuilder: isBuilder,\r\n\t\t\t\t\tisSite: isSite,\r\n\t\t\t\t\tisInBuilder: isInBuilder(),\r\n\t\t\t\t\tmountPath: mountPath,\r\n\t\t\t\t\tappFolderName: appFolderName,\r\n\t\t\t\t\trootPath: rootPath,\r\n\t\t\t\t\tbaseUrl: buildNumber ? mountPath + buildNumber + '/' : mountPath,\r\n\t\t\t\t\tpackagesInAppFolder: packagesInAppFolder,\r\n\t\t\t\t\tuseStructuralUrl: useStructuralUrl,\r\n\t\t\t\t\tisInPortal: isInPortal,\r\n\t\t\t\t\tisDevEdition: isDevEdition,\r\n\t\t\t\t\tarcgisJsApiUrl: arcgisJsApiUrl,\r\n\t\t\t\t\thostEnv: hostEnv,\r\n\t\t\t\t\tbuildNumber: buildNumber\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tfunction getQueryObject(){\r\n\t\t\t\tvar query = window.location.search;\r\n\t\t\t\tif (query.indexOf('?') > -1) {\r\n\t\t\t\t\tquery = query.substr(1);\r\n\t\t\t\t}\r\n\t\t\t\tvar pairs = query.split('&');\r\n\t\t\t\tvar queryObject = {};\r\n\t\t\t\tfor(var i = 0; i < pairs.length; i++){\r\n\t\t\t\t\tvar splits = decodeURIComponent(pairs[i]).split('=');\r\n\t\t\t\t\tqueryObject[splits[0]] = splits[1];\r\n\t\t\t\t}\r\n\t\t\t\treturn queryObject;\r\n\t\t\t}\r\n\r\n\t\t\tinitJimuConfig();\r\n\r\n\t\t\t//to make react devtools works in iframe.\r\n\t\t\tif (window.parent !== window) {\r\n\t\t\t\ttry{\r\n\t\t\t\t\twindow.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__;\r\n\t\t\t\t}catch(err){\r\n\t\t\t\t\tconsole.warn('App is embedded in a cross-origin frame.');\r\n\t\t\t\t}\r\n\t\t\t}",
      "attrs": {}
    },
    "root[5]": {
      "tag": "style",
      "text": ".loading-content{\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n\n    .jimu-primary-loading:before, .jimu-primary-loading:after {\n      position: absolute;\n      top: 0;\n      content: '';\n    }\n\n    .jimu-primary-loading:before {\n      left: -19.992px;\n    }\n\n    .jimu-primary-loading:after {\n      left: 19.992px;\n      -webkit-animation-delay: 0.32s !important;\n      animation-delay: 0.32s !important;\n    }\n\n    .jimu-primary-loading:before, .jimu-primary-loading:after, .jimu-primary-loading {\n      background: #076fe5;\n      -webkit-animation: loading-keys-app-loading 0.8s infinite ease-in-out;\n      animation: loading-keys-app-loading 0.8s infinite ease-in-out;\n      width: 13.6px;\n      height: 32px;\n    }\n\n    .jimu-primary-loading {\n      text-indent: -9999em;\n      margin: auto;\n      position: absolute;\n      right: calc(50% - 6.8px);\n      top: calc(50% - 16px);\n      -webkit-animation-delay: 0.16s !important;\n      animation-delay: 0.16s !important;\n    }\n\n    @-webkit-keyframes loading-keys-app-loading{0%,80%,100%{opacity:.75;box-shadow:0 0 #076fe5;height:32px;}40%{opacity:1;box-shadow:0 -8px #076fe5;height:40px;}}\n    @keyframes loading-keys-app-loading{0%,80%,100%{opacity:.75;box-shadow:0 0 #076fe5;height:32px;}40%{opacity:1;box-shadow:0 -8px #076fe5;height:40px;}}",
      "attrs": {}
    },
    "root[6]": {
      "tag": "script",
      "text": "{\r\n\t\t\t\t\"imports\": {\r\n\t\t\t\t\t\"jimu-core\": \"https://BASE_URL/jimu-core/index.js\",\r\n\t\t\t\t\t\"jimu-core/\": \"https://BASE_URL/jimu-core/\",\r\n\t\t\t\t\t\"jimu-ui\": \"https://BASE_URL/jimu-ui/index.js\",\r\n\t\t\t\t\t\"jimu-ui/\": \"https://BASE_URL/jimu-ui/\",\r\n\t\t\t\t\t\"jimu-arcgis\": \"https://BASE_URL/jimu-arcgis/index.js\",\r\n\t\t\t\t\t\"jimu-arcgis/\": \"https://BASE_URL/jimu-arcgis/\",\r\n\t\t\t\t\t\"jimu-layouts\": \"https://BASE_URL/jimu-layouts/index.js\",\r\n\t\t\t\t\t\"jimu-layouts/\": \"https://BASE_URL/jimu-layouts/\",\r\n\t\t\t\t\t\"jimu-for-builder\": \"https://BASE_URL/jimu-for-builder/index.js\",\r\n\t\t\t\t\t\"jimu-for-builder/\": \"https://BASE_URL/jimu-for-builder/\",\r\n\t\t\t\t\t\"widgets/\": \"https://BASE_URL/widgets/\",\r\n\t\t\t\t\t\"themes/\": \"https://BASE_URL/themes/\",\r\n\t\t\t\t\t\"builder/\": \"https://BASE_URL/builder/\",\r\n\t\t\t\t\t\"site/\": \"https://BASE_URL/site/\",\r\n\t\t\t\t\t\"experience/\": \"https://BASE_URL/experience/\",\r\n\t\t\t\t\t\"template/\": \"https://BASE_URL/template/\",\r\n\r\n\t\t\t\t\t\"dojo/\": \"https://API_URL/dojo/\",\r\n\t\t\t\t\t\"dijit/\": \"https://API_URL/dijit/\",\r\n\t\t\t\t\t\"dojox/\": \"https://API_URL/dojox/\",\r\n\t\t\t\t\t\"dgrid/\": \"https://API_URL/dgrid/\",\r\n\t\t\t\t\t\"moment/\": \"https://API_URL/moment/\",\r\n\t\t\t\t\t\"@dojo/\": \"https://API_URL/@dojo/\",\r\n\t\t\t\t\t\"tslib/\": \"https://API_URL/tslib/\",\r\n\t\t\t\t\t\"cldrjs/\": \"https://API_URL/cldrjs/\",\r\n\t\t\t\t\t\"globalize/\": \"https://API_URL/globalize/\",\r\n\t\t\t\t\t\"maquette/\": \"https://API_URL/maquette/\",\r\n\t\t\t\t\t\"maquette-jsx/\": \"https://API_URL/maquette-jsx/\",\r\n\t\t\t\t\t\"maquette-css-transitions/\": \"https://API_URL/maquette-css-transitions/\",\r\n\t\t\t\t\t\"esri/\": \"https://API_URL/esri/\"\r\n\t\t\t\t}\r\n\t\t\t}",
      "attrs": {
        "type": "systemjs-importmap"
      }
    }
  }
}